<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Enhancing Biological Data With Environmental Data | A species distribution modeling workflow to project changes in marine species occurrence in the northwest Atlantic</title>
  <meta name="description" content="Chapter 4 Enhancing Biological Data With Environmental Data | A species distribution modeling workflow to project changes in marine species occurrence in the northwest Atlantic" />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Enhancing Biological Data With Environmental Data | A species distribution modeling workflow to project changes in marine species occurrence in the northwest Atlantic" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="gulfofmaine/sdm_workflow" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Enhancing Biological Data With Environmental Data | A species distribution modeling workflow to project changes in marine species occurrence in the northwest Atlantic" />
  
  
  

<meta name="author" content="Gulf of Maine Research Institute: Integrated Systems Ecology Laboratory" />


<meta name="date" content="2022-04-27" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="environmental-data-collection.html"/>
<link rel="next" href="species-distribution-model-fitting-and-projecting.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html#preface">Preface<span></span></a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Project Overview<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#repository-orientation"><i class="fa fa-check"></i><b>1.1</b> Repository Orientation<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="biological-data-collection.html"><a href="biological-data-collection.html"><i class="fa fa-check"></i><b>2</b> Biological Data Collection<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="biological-data-collection.html"><a href="biological-data-collection.html#steps"><i class="fa fa-check"></i><b>2.1</b> Steps<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="biological-data-collection.html"><a href="biological-data-collection.html#output"><i class="fa fa-check"></i><b>2.2</b> Output<span></span></a></li>
<li class="chapter" data-level="2.3" data-path="biological-data-collection.html"><a href="biological-data-collection.html#next-stages"><i class="fa fa-check"></i><b>2.3</b> Next stages<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="environmental-data-collection.html"><a href="environmental-data-collection.html"><i class="fa fa-check"></i><b>3</b> Environmental Data Collection<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="environmental-data-collection.html"><a href="environmental-data-collection.html#steps-1"><i class="fa fa-check"></i><b>3.1</b> Steps<span></span></a></li>
<li class="chapter" data-level="3.2" data-path="environmental-data-collection.html"><a href="environmental-data-collection.html#output-1"><i class="fa fa-check"></i><b>3.2</b> Output<span></span></a></li>
<li class="chapter" data-level="3.3" data-path="environmental-data-collection.html"><a href="environmental-data-collection.html#next-stages-1"><i class="fa fa-check"></i><b>3.3</b> Next stages<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="enhancing-biological-data-with-environmental-data.html"><a href="enhancing-biological-data-with-environmental-data.html"><i class="fa fa-check"></i><b>4</b> Enhancing Biological Data With Environmental Data<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="enhancing-biological-data-with-environmental-data.html"><a href="enhancing-biological-data-with-environmental-data.html#steps-2"><i class="fa fa-check"></i><b>4.1</b> Steps<span></span></a></li>
<li class="chapter" data-level="4.2" data-path="enhancing-biological-data-with-environmental-data.html"><a href="enhancing-biological-data-with-environmental-data.html#output-2"><i class="fa fa-check"></i><b>4.2</b> Output<span></span></a></li>
<li class="chapter" data-level="4.3" data-path="enhancing-biological-data-with-environmental-data.html"><a href="enhancing-biological-data-with-environmental-data.html#next-stages-2"><i class="fa fa-check"></i><b>4.3</b> Next stages<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="species-distribution-model-fitting-and-projecting.html"><a href="species-distribution-model-fitting-and-projecting.html"><i class="fa fa-check"></i><b>5</b> Species Distribution Model Fitting and Projecting<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="species-distribution-model-fitting-and-projecting.html"><a href="species-distribution-model-fitting-and-projecting.html#steps-3"><i class="fa fa-check"></i><b>5.1</b> Steps<span></span></a></li>
<li class="chapter" data-level="5.2" data-path="species-distribution-model-fitting-and-projecting.html"><a href="species-distribution-model-fitting-and-projecting.html#output-3"><i class="fa fa-check"></i><b>5.2</b> Output<span></span></a></li>
<li class="chapter" data-level="5.3" data-path="species-distribution-model-fitting-and-projecting.html"><a href="species-distribution-model-fitting-and-projecting.html#next-stages-3"><i class="fa fa-check"></i><b>5.3</b> Next stages<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="results-visualization-and-communication.html"><a href="results-visualization-and-communication.html"><i class="fa fa-check"></i><b>6</b> Results Visualization and Communication<span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="results-visualization-and-communication.html"><a href="results-visualization-and-communication.html#steps-4"><i class="fa fa-check"></i><b>6.1</b> Steps<span></span></a></li>
<li class="chapter" data-level="6.2" data-path="results-visualization-and-communication.html"><a href="results-visualization-and-communication.html#output-4"><i class="fa fa-check"></i><b>6.2</b> Output<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="future-work-plans.html"><a href="future-work-plans.html"><i class="fa fa-check"></i><b>7</b> Future Work Plans<span></span></a></li>
<li class="chapter" data-level="8" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>8</b> References<span></span></a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A species distribution modeling workflow to project changes in marine species occurrence in the northwest Atlantic</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="enhancing-biological-data-with-environmental-data" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> Enhancing Biological Data With Environmental Data<a href="enhancing-biological-data-with-environmental-data.html#enhancing-biological-data-with-environmental-data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><strong>About:</strong></p>
<p>This section of the repository contains information and code detailing how we enhance the biological catch data samples/observations with environmental data, eventually using these environmental data as covariates in the fitted species distribution model.</p>
<div id="steps-2" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Steps<a href="enhancing-biological-data-with-environmental-data.html#steps-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>There are three key steps to this stage: first extracting information from static (i.e., time-invariant) environmental variables, then extracting information for dynamic variables and finally merging these data with the tidy occupancy dataframe. The code for completing these steps is in the <a href="https://github.com/aallyn/TargetsSDM">TargetsSDM GitHub repository</a>, where we leverage functions in the <a href="https://github.com/aallyn/TargetsSDM/blob/main/R/enhance_r_funcs.R">enhance_r_funcs.R</a> script, and in the <a href="https://github.com/aallyn/TargetsSDM/blob/main/R/combo_functions.R">combo_functions.R</a> script.</p>
<ol style="list-style-type: decimal">
<li><p>Extracting information from static environmental variables. We use the <code>static_extract</code> function to extract information for each of the raster layers in the <code>data/covariates/static</code> at each of the unique tow locations.</p></li>
<li><p>Extracting information from dynamic environmental variables. To extract information for dynamic variables, we use the <code>dynamic_extract</code> function. Rather than the simple point/raster overlay completed with the <code>static_extract</code> function, the <code>dynamic_extract</code> function has more flexibility to summarize the dynamic environmental variables across different time scales (e.g., monthly, seasonal, annual averages or 90-day averages) and then complete the extraction at each unique tow location.</p></li>
<li><p>Enhancing biological data with environmental data. The final step in this stage merges the tow information with environmental variables to the biological catch data tidy occupancy dataframe using the <code>make_tidy_mod_data</code> function.</p></li>
</ol>
<p>Along with these key steps, we have also written a function to facilitate rescaling the environmental variables. rescaling isn’t always necessary, depending on the variables and the distribution modeling approach being used. With the VAST models, rescaling the variables is recommended. We center and scale each of the variables with the <code>rescale_all_covs</code> function and then retain the scaling parameters for future use with the <code>get_rescale_params</code> function.</p>
</div>
<div id="output-2" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Output<a href="enhancing-biological-data-with-environmental-data.html#output-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The product for this stage is a tidy model dataframe, where each row contains information on the location of the tow, the catch of a species, and the environmental variables at the tow location.</p>
</div>
<div id="next-stages-2" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Next stages<a href="enhancing-biological-data-with-environmental-data.html#next-stages-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>From this stage, the tidy model dataframe is <a href="species-distribution-model-fitting-and-projecting.html#species-distribution-model-fitting-and-projecting">confronted with the seasonal VAST species distribution model</a>.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="environmental-data-collection.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="species-distribution-model-fitting-and-projecting.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
